2025-09-18T10:28:58.610Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T10:31:44.779Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T10:32:39.734Z [ERROR]: [Registration error] {}
2025-09-18T10:34:47.040Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T10:34:52.611Z [ERROR]: [Registration error] {} TypeError: Cannot destructure property 'name' of 'req.body' as it is undefined.
2025-09-18T10:37:06.595Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T10:37:20.358Z [INFO]: [Registration test] Visited register controller
2025-09-18T10:37:20.360Z [ERROR]: [Registration error] {} TypeError: Cannot destructure property 'name' of 'req.body' as it is undefined.
2025-09-18T10:37:56.984Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T10:38:05.747Z [INFO]: [Registration test] Unpacking req.body: undefined
2025-09-18T10:38:05.749Z [ERROR]: [Registration error] {} TypeError: Cannot destructure property 'name' of 'req.body' as it is undefined.
2025-09-18T10:42:49.966Z [INFO]: [Registration test] Unpacking req.body: [object Object]
2025-09-18T10:42:49.980Z [ERROR]: [Registration error] {"errors":{"password":{"stringValue":"\"Promise { <pending> }\"","valueType":"Promise","kind":"string","value":{},"path":"password","reason":null,"name":"CastError","message":"Cast to string failed for value \"Promise { <pending> }\" (type Promise) at path \"password\""}},"_message":"User validation failed","name":"ValidationError","message":"User validation failed: password: Cast to string failed for value \"Promise { <pending> }\" (type Promise) at path \"password\""} ValidationError: password: Cast to string failed for value "Promise { <pending> }" (type Promise) at path "password"
2025-09-18T10:44:26.102Z [INFO]: [Registration test] Unpacking req.body: [object Object]
2025-09-18T10:44:26.110Z [ERROR]: [Registration error] {} Error: Illegal arguments: string, undefined
2025-09-18T10:45:35.088Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T10:45:41.688Z [INFO]: [Registration test] Unpacking req.body: {"name":"riyaz","password":"asdfasdf","email":"riyazuddin9846@gmail.com","contact":"9988776655"}
2025-09-18T10:45:41.696Z [ERROR]: [Registration error] {} Error: Illegal arguments: string, undefined
2025-09-18T10:48:12.547Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T10:48:40.251Z [ERROR]: [Registration error] {} Error: Invalid salt version: 10
2025-09-18T10:49:15.258Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T10:58:50.913Z [ERROR]: [Registration error] {} Error: Email already registered.
2025-09-18T10:59:44.062Z [ERROR]: [Registration error] {} Error: Email already registered.
2025-09-18T11:00:12.972Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T11:00:23.600Z [ERROR]: [Registration error] {} Error: Email already registered.
2025-09-18T11:06:55.208Z [ERROR]: [Registration error] {} Error: Email already registered.
2025-09-18T11:07:36.944Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T11:07:43.106Z [ERROR]: [Registration error] Error: Email already registered.
    at Object.register (file:///Users/vijayeesam/Documents/code/assignment/src/services/users.service.js:34:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async register (file:///Users/vijayeesam/Documents/code/assignment/src/controllers/users.controller.js:34:9)
2025-09-18T11:18:36.937Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T11:44:01.802Z [INFO]: [Database] Database connected!
2025-09-18T11:46:28.644Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T11:48:43.328Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T11:49:50.704Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T11:49:54.396Z [INFO]: [Database test] Database connection initiated
2025-09-18T12:02:00.175Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T12:02:13.394Z [INFO]: [Authorization middleware] Authorization initiated.
2025-09-18T12:02:13.396Z [ERROR]: [Authorization] TypeError: Cannot read properties of undefined (reading 'headers')
    at file:///Users/vijayeesam/Documents/code/assignment/src/middlewares/authorize.middleware.js:32:31
    at authorized (file:///Users/vijayeesam/Documents/code/assignment/src/middlewares/authorize.middleware.js:55:7)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at Route.dispatch (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:117:3)
    at handle (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:435:11)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at /Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:295:15
    at processParams (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:582:12)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:291:5)
2025-09-18T12:02:47.379Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T12:02:54.876Z [INFO]: [Authorization middleware] Authorization initiated.
2025-09-18T12:02:54.880Z [INFO]: [Authorization middleware] Token authorized
2025-09-18T12:02:54.880Z [INFO]: [Authorization middleware] Moving next
2025-09-18T12:06:45.889Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T12:06:51.994Z [INFO]: [Token elements check.] {}
2025-09-18T12:06:51.996Z [ERROR]: [General] User ID missing from the unpacked data of token, which is mapped to `req.user`.
2025-09-18T12:07:51.680Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T12:07:56.654Z [INFO]: [Token elements check.] {"user_id":"68cbe870dbf7fe45edfc67de","email":"conman@world.com"}
2025-09-18T12:12:36.697Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T12:14:26.007Z [ERROR]: [Transaction error while creating tenant] MongoServerError: Transaction numbers are only allowed on a replica set member or mongos
    at Connection.sendCommand (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/cmap/connection.js:305:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Connection.command (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/cmap/connection.js:333:26)
    at async Server.command (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/sdam/server.js:171:29)
    at async InsertOneOperation.executeCommand (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/operations/command.js:76:16)
    at async InsertOneOperation.execute (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/operations/insert.js:37:16)
    at async InsertOneOperation.execute (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/operations/insert.js:46:21)
    at async tryOperation (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/operations/execute_operation.js:207:20)
    at async executeOperation (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async Collection.insertOne (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/collection.js:157:16)
2025-09-18T12:37:59.522Z [INFO]: [Database] Database connected!
2025-09-18T12:38:00.259Z [ERROR]: [Transaction error while creating tenant] MongoServerError: not primary
    at Connection.sendCommand (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/cmap/connection.js:305:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Connection.command (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/cmap/connection.js:333:26)
    at async Server.command (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/sdam/server.js:171:29)
    at async InsertOneOperation.executeCommand (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/operations/command.js:76:16)
    at async InsertOneOperation.execute (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/operations/insert.js:37:16)
    at async InsertOneOperation.execute (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/operations/insert.js:46:21)
    at async tryOperation (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/operations/execute_operation.js:207:20)
    at async executeOperation (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async Collection.insertOne (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/collection.js:157:16)
2025-09-18T12:38:04.717Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T12:38:39.422Z [ERROR]: [MongoDB connection failed] MongooseServerSelectionError: Server selection timed out after 30000 ms
    at _handleConnectionErrors (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/connection.js:1165:11)
    at NativeConnection.openUri (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/connection.js:1096:11)
    at async connectDB (/Users/vijayeesam/Documents/code/assignment/src/config/db.js:8:9)
    at async /Users/vijayeesam/Documents/code/assignment/index.js:10:9
2025-09-18T12:41:20.186Z [ERROR]: [Transaction error while creating tenant] MongoServerError: Transaction numbers are only allowed on a replica set member or mongos
    at Connection.sendCommand (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/cmap/connection.js:305:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Connection.command (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/cmap/connection.js:333:26)
    at async Server.command (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/sdam/server.js:171:29)
    at async InsertOneOperation.executeCommand (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/operations/command.js:76:16)
    at async InsertOneOperation.execute (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/operations/insert.js:37:16)
    at async InsertOneOperation.execute (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/operations/insert.js:46:21)
    at async tryOperation (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/operations/execute_operation.js:207:20)
    at async executeOperation (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async Collection.insertOne (/Users/vijayeesam/Documents/code/assignment/node_modules/mongodb/lib/collection.js:157:16)
2025-09-18T12:43:57.104Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T12:45:12.172Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T12:48:31.831Z [ERROR]: [Registration error] Error: Email already registered.
    at Object.register (file:///Users/vijayeesam/Documents/code/assignment/src/services/users.service.js:34:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async register (file:///Users/vijayeesam/Documents/code/assignment/src/controllers/users.controller.js:34:9)
2025-09-18T12:49:40.521Z [ERROR]: [Transaction error while creating tenant] TypeError: Cannot destructure property 'tenant_name' of 'req.body' as it is undefined.
    at createTenant (file:///Users/vijayeesam/Documents/code/assignment/src/controllers/tenants.controller.js:11:17)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at authorized (file:///Users/vijayeesam/Documents/code/assignment/src/middlewares/authorize.middleware.js:45:9)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at Route.dispatch (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:117:3)
    at handle (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:435:11)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at /Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:295:15
2025-09-18T13:12:33.007Z [INFO]: [Database] Database connected!
2025-09-18T13:12:33.009Z [INFO]: [Database] Database connected!
2025-09-18T13:12:43.130Z [INFO]: [Database] Database connected!
2025-09-18T13:21:46.392Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T13:22:04.165Z [INFO]: [ID check for membership authorization.] userid: 68cbff8cc08502379b4cfb5c, tenantid: update
2025-09-18T13:22:56.887Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T13:23:04.040Z [INFO]: [ID check for membership authorization.] userid: 68cbff8cc08502379b4cfb5c, tenantid: 68cc05cfc08502379b4cfb63
2025-09-18T13:26:22.153Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T13:26:32.040Z [INFO]: [User data pass check.] req.user: {"user_id":"68cbff8cc08502379b4cfb5c","name":"Andu pandu","email":"conman@world.com","verified":false,"iat":1758199721,"exp":1758221321,"tenant_id":"68cc05cfc08502379b4cfb63","role":"ADMIN"}
2025-09-18T13:27:15.163Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T13:42:16.924Z [ERROR]: [Tenant contributor update] Error: Invalid role or status.
    at Object.updateContributor (file:///Users/vijayeesam/Documents/code/assignment/src/services/tenants.service.js:126:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async updateContributor (file:///Users/vijayeesam/Documents/code/assignment/src/controllers/tenants.controller.js:160:25)
2025-09-18T13:42:34.517Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T13:51:12.557Z [ERROR]: [Membership Authorization] TypeError: Cannot read properties of undefined (reading 'tenant_id')
    at authorizeByMembership (file:///Users/vijayeesam/Documents/code/assignment/src/middlewares/authorize.middleware.js:63:58)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at trimPrefix (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:342:13)
    at /Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:297:9
    at processParams (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:582:12)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:291:5)
    at Function.handle (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:186:3)
    at router (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:60:12)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at trimPrefix (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:342:13)
2025-09-18T14:08:38.826Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T14:11:21.883Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T14:11:27.037Z [ERROR]: [Error while creating database] ReferenceError: logInfo is not defined
    at createIsolatedDB (file:///Users/vijayeesam/Documents/code/assignment/src/controllers/isolated_databases.controller.js:11:9)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at file:///Users/vijayeesam/Documents/code/assignment/src/middlewares/authorize.middleware.js:121:13
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at Route.dispatch (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:117:3)
    at handle (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:435:11)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at /Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:295:15
2025-09-18T14:11:41.514Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T14:11:45.858Z [INFO]: [Isolated DB fields unpacking] received request body: {"tenant_id":"68cc05cfc08502379b4cfb63","db_name":"First DB","fields":"[\n  {\n    \"type\": \"text\",\n    \"title\": \"Name\",\n    \"label\": \"Full Name\",\n    \"placeholder\": \"Enter your full name\"\n  },\n  {\n    \"type\": \"number\",\n    \"title\": \"Age\",\n    \"label\": \"User Age\",\n    \"placeholder\": \"Enter your age\"\n  },\n  {\n    \"type\": \"date\",\n    \"title\": \"Birth Date\",\n    \"label\": \"Date of Birth\",\n    \"placeholder\": \"Select birth date\"\n  },\n  {\n    \"type\": \"boolean\",\n    \"title\": \"Is Active\",\n    \"label\": \"Active Status\"\n  },\n  {\n    \"type\": \"select\",\n    \"title\": \"Country\",\n    \"label\": \"Select Country\",\n    \"placeholder\": \"Choose country\",\n    \"options\": [\n      { \"label\": \"United States\", \"value\": \"us\" },\n      { \"label\": \"Canada\", \"value\": \"ca\" },\n      { \"label\": \"India\", \"value\": \"in\" }\n    ]\n  },\n  {\n    \"type\": \"multi-select\",\n    \"title\": \"Skills\",\n    \"label\": \"Select Skills\",\n    \"placeholder\": \"Choose multiple skills\",\n    \"options\": [\n      { \"label\": \"JavaScript\", \"value\": \"js\" },\n      { \"label\": \"Python\", \"value\": \"py\" },\n      { \"label\": \"Go\", \"value\": \"go\" }\n    ]\n  }\n]\n"}
2025-09-18T14:12:21.910Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T14:12:29.852Z [INFO]: [Isolated DB fields unpacking] received request body: [object Object]
2025-09-18T14:13:55.768Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T14:14:01.955Z [INFO]: [Isolated DB fields unpacking] received request body: [object Object]
2025-09-18T14:14:01.957Z [ERROR]: [Error while creating database] TypeError: Assignment to constant variable.
    at createIsolatedDB (file:///Users/vijayeesam/Documents/code/assignment/src/controllers/isolated_databases.controller.js:14:16)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at file:///Users/vijayeesam/Documents/code/assignment/src/middlewares/authorize.middleware.js:121:13
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at Route.dispatch (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:117:3)
    at handle (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:435:11)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at /Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:295:15
2025-09-18T14:14:46.122Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T14:14:55.161Z [INFO]: [Isolated DB fields unpacking] received request body: [object Object]
2025-09-18T14:14:55.163Z [ERROR]: [Error while creating database] ReferenceError: parsed_fields is not defined
    at createIsolatedDB (file:///Users/vijayeesam/Documents/code/assignment/src/controllers/isolated_databases.controller.js:14:23)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at file:///Users/vijayeesam/Documents/code/assignment/src/middlewares/authorize.middleware.js:121:13
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at Route.dispatch (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:117:3)
    at handle (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:435:11)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at /Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:295:15
2025-09-18T14:15:07.178Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T14:15:11.933Z [INFO]: [Isolated DB fields unpacking] received request body: [object Object]
2025-09-18T14:18:35.856Z [ERROR]: [Error while fetching database info] Error: Error fetching isolated database info: Record.find is not a function
    at Object.getInfo (file:///Users/vijayeesam/Documents/code/assignment/src/services/isolated_databases.service.js:40:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async getIsolatedDBInfo (file:///Users/vijayeesam/Documents/code/assignment/src/controllers/isolated_databases.controller.js:47:22)
2025-09-18T14:19:51.671Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T14:22:37.739Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T14:24:01.142Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T14:24:12.980Z [ERROR]: [Error while updating database] ReferenceError: parsed_fields is not defined
    at updateIsolatedDB (file:///Users/vijayeesam/Documents/code/assignment/src/controllers/isolated_databases.controller.js:68:23)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at file:///Users/vijayeesam/Documents/code/assignment/src/middlewares/authorize.middleware.js:121:13
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at Route.dispatch (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:117:3)
    at handle (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:435:11)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at /Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:295:15
2025-09-18T14:24:30.479Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T14:36:05.321Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T14:36:24.575Z [ERROR]: [Error while updating database] SyntaxError: "undefined" is not valid JSON
    at JSON.parse (<anonymous>)
    at updateIsolatedDB (file:///Users/vijayeesam/Documents/code/assignment/src/controllers/isolated_databases.controller.js:68:36)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at file:///Users/vijayeesam/Documents/code/assignment/src/middlewares/authorize.middleware.js:121:13
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at Route.dispatch (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:117:3)
    at handle (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:435:11)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
2025-09-18T14:38:38.487Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T14:40:05.961Z [ERROR]: [Creating record] SyntaxError: Expected ',' or '}' after property value in JSON at position 491 (line 25 column 20)
    at JSON.parse (<anonymous>)
    at createRecord (file:///Users/vijayeesam/Documents/code/assignment/src/controllers/isolated_db_records.controller.js:11:36)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at file:///Users/vijayeesam/Documents/code/assignment/src/middlewares/authorize.middleware.js:121:13
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at Route.dispatch (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:117:3)
    at handle (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:435:11)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
2025-09-18T14:40:32.405Z [ERROR]: [Creating record] SyntaxError: Expected ',' or '}' after property value in JSON at position 491 (line 25 column 20)
    at JSON.parse (<anonymous>)
    at createRecord (file:///Users/vijayeesam/Documents/code/assignment/src/controllers/isolated_db_records.controller.js:11:36)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at file:///Users/vijayeesam/Documents/code/assignment/src/middlewares/authorize.middleware.js:121:13
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at Route.dispatch (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:117:3)
    at handle (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:435:11)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
2025-09-18T14:41:51.683Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T14:42:02.524Z [INFO]: [Checking received array.] received values: [
  {
    "field_id": "68cc162785546d2226e5c645",
    "type": "text",
    "value": "Alice Johnson"
  },
  {
    "field_id": "68cc162785546d2226e5c646",
    "type": "number",
    "value": 35
  },
  {
    "field_id": "68cc162785546d2226e5c647",
    "type": "date",
    "value": "1990-08-25T00:00:00.000Z"
  },
  {
    "field_id": "68cc162785546d2226e5c648",
    "type": "boolean",
    "value": true
  },
  {
    "field_id": "68cc162785546d2226e5c649",
    "type": "select",
    "value": "in"  // India
  },
  {
    "field_id": "68cc162785546d2226e5c64a",
    "type": "multi-select",
    "value": ["js", "cpp"]
  }
]

2025-09-18T14:42:02.526Z [ERROR]: [Creating record] SyntaxError: Expected ',' or '}' after property value in JSON at position 491 (line 25 column 20)
    at JSON.parse (<anonymous>)
    at createRecord (file:///Users/vijayeesam/Documents/code/assignment/src/controllers/isolated_db_records.controller.js:12:36)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at file:///Users/vijayeesam/Documents/code/assignment/src/middlewares/authorize.middleware.js:121:13
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at Route.dispatch (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:117:3)
    at handle (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:435:11)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
2025-09-18T14:42:30.955Z [INFO]: [Checking received array.] received values: [
  {
    "field_id": "68cc162785546d2226e5c645",
    "type": "text",
    "value": "Alice Johnson"
  },
  {
    "field_id": "68cc162785546d2226e5c646",
    "type": "number",
    "value": 35
  },
  {
    "field_id": "68cc162785546d2226e5c647",
    "type": "date",
    "value": "1990-08-25T00:00:00.000Z"
  },
  {
    "field_id": "68cc162785546d2226e5c648",
    "type": "boolean",
    "value": true
  },
  {
    "field_id": "68cc162785546d2226e5c649",
    "type": "select",
    "value": "in"
  },
  {
    "field_id": "68cc162785546d2226e5c64a",
    "type": "multi-select",
    "value": ["js", "cpp"]
  }
]

2025-09-18T14:42:30.956Z [ERROR]: [Creating record] ReferenceError: db_id is not defined
    at createRecord (file:///Users/vijayeesam/Documents/code/assignment/src/controllers/isolated_db_records.controller.js:14:9)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at file:///Users/vijayeesam/Documents/code/assignment/src/middlewares/authorize.middleware.js:121:13
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at Route.dispatch (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:117:3)
    at handle (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:435:11)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at /Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:295:15
2025-09-18T14:43:09.047Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T14:43:14.828Z [INFO]: [Checking received array.] received values: [
  {
    "field_id": "68cc162785546d2226e5c645",
    "type": "text",
    "value": "Alice Johnson"
  },
  {
    "field_id": "68cc162785546d2226e5c646",
    "type": "number",
    "value": 35
  },
  {
    "field_id": "68cc162785546d2226e5c647",
    "type": "date",
    "value": "1990-08-25T00:00:00.000Z"
  },
  {
    "field_id": "68cc162785546d2226e5c648",
    "type": "boolean",
    "value": true
  },
  {
    "field_id": "68cc162785546d2226e5c649",
    "type": "select",
    "value": "in"
  },
  {
    "field_id": "68cc162785546d2226e5c64a",
    "type": "multi-select",
    "value": ["js", "cpp"]
  }
]

2025-09-18T14:48:12.668Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-18T14:56:17.436Z [INFO]: [Checking received array.] received values: [
  {
    "field_id": "68cc162785546d2226e5c645",
    "type": "text",
    "value": "Bob Smith"
  },
  {
    "field_id": "68cc162785546d2226e5c646",
    "type": "number",
    "value": 42
  },
  {
    "field_id": "68cc162785546d2226e5c647",
    "type": "date",
    "value": "1983-11-15T00:00:00.000Z"
  },
  {
    "field_id": "68cc162785546d2226e5c648",
    "type": "boolean",
    "value": false
  },
  {
    "field_id": "68cc162785546d2226e5c649",
    "type": "select",
    "value": "ca"
  },
  {
    "field_id": "68cc162785546d2226e5c64a",
    "type": "multi-select",
    "value": ["py"]
  }
]

2025-09-18T15:07:05.006Z [INFO]: [Database] Database connected!
2025-09-18T15:07:05.008Z [INFO]: [Database] Database connected!
2025-09-18T15:07:15.136Z [INFO]: [Database] Database connected!
2025-09-18T15:07:48.534Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-19T05:37:45.124Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-19T06:27:10.007Z [INFO]: [Database] Database connected!
2025-09-19T06:27:10.009Z [INFO]: [Database] Database connected!
2025-09-19T06:27:21.090Z [INFO]: [Database] Database connected!
2025-09-19T07:36:09.004Z [INFO]: [Database] Database connected!
2025-09-19T07:36:09.005Z [INFO]: [Database] Database connected!
2025-09-19T07:36:19.195Z [INFO]: [Database] Database connected!
2025-09-19T08:08:55.004Z [INFO]: [Database] Database connected!
2025-09-19T08:08:55.005Z [INFO]: [Database] Database connected!
2025-09-19T08:09:05.519Z [INFO]: [Database] Database connected!
2025-09-19T08:26:00.005Z [INFO]: [Database] Database connected!
2025-09-19T08:26:10.172Z [INFO]: [Database] Database connected!
2025-09-19T08:42:32.375Z [INFO]: [Database] Database connected!
2025-09-19T09:40:02.831Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-19T10:19:46.624Z [ERROR]: [Failed to start server] Error: To use Apollo Server with an existing express application, please use apollo-server-express
    at ApolloServer.applyMiddleware (/Users/vijayeesam/Documents/code/assignment/node_modules/apollo-server/dist/index.js:65:15)
    at initGraphQL (file:///Users/vijayeesam/Documents/code/assignment/src/graphql/index.js:21:12)
    at /Users/vijayeesam/Documents/code/assignment/index.js:13:9
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-19T10:23:02.134Z [ERROR]: [Failed to start server] TypeError: initGraphQL is not a function
    at /Users/vijayeesam/Documents/code/assignment/index.js:13:9
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-19T10:24:10.963Z [INFO]: [APP] App listening on port 3333
2025-09-19T10:26:59.395Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-19T10:33:29.240Z [ERROR]: [MongoDB connection failed] MongooseError: The `uri` parameter to `openUri()` must be a string, got "undefined". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.
    at NativeConnection.createClient (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:237:11)
    at NativeConnection.openUri (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/connection.js:1071:34)
    at Mongoose.connect (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/mongoose.js:450:15)
    at connectDB (/Users/vijayeesam/Documents/code/assignment/src/config/db.js:8:24)
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:13:15
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:24:3
    at ModuleJob.run (node:internal/modules/esm/module_job:345:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:651:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
2025-09-19T10:33:29.246Z [INFO]: [APP] App listening on port 3333
2025-09-19T10:33:29.247Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-19T10:35:45.662Z [ERROR]: [MongoDB connection failed] MongooseError: The `uri` parameter to `openUri()` must be a string, got "undefined". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.
    at NativeConnection.createClient (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:237:11)
    at NativeConnection.openUri (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/connection.js:1071:34)
    at Mongoose.connect (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/mongoose.js:450:15)
    at connectDB (/Users/vijayeesam/Documents/code/assignment/src/config/db.js:8:24)
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:13:15
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:24:3
    at ModuleJob.run (node:internal/modules/esm/module_job:345:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:651:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
2025-09-19T10:35:45.668Z [INFO]: [APP] App listening on port 3333
2025-09-19T10:35:45.669Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-19T10:36:22.063Z [INFO]: [General] undefined
2025-09-19T10:36:22.381Z [ERROR]: [MongoDB connection failed] MongooseError: The `uri` parameter to `openUri()` must be a string, got "undefined". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.
    at NativeConnection.createClient (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:237:11)
    at NativeConnection.openUri (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/connection.js:1071:34)
    at Mongoose.connect (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/mongoose.js:450:15)
    at connectDB (/Users/vijayeesam/Documents/code/assignment/src/config/db.js:9:24)
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:13:15
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:24:3
    at ModuleJob.run (node:internal/modules/esm/module_job:345:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:651:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
2025-09-19T10:36:22.385Z [INFO]: [APP] App listening on port 3333
2025-09-19T10:36:22.386Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-19T10:37:16.523Z [INFO]: [General] undefined
2025-09-19T10:37:16.831Z [ERROR]: [MongoDB connection failed] MongooseError: The `uri` parameter to `openUri()` must be a string, got "undefined". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.
    at NativeConnection.createClient (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:237:11)
    at NativeConnection.openUri (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/connection.js:1071:34)
    at Mongoose.connect (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/mongoose.js:450:15)
    at connectDB (/Users/vijayeesam/Documents/code/assignment/src/config/db.js:9:24)
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:13:15
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:24:3
    at ModuleJob.run (node:internal/modules/esm/module_job:345:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:651:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
2025-09-19T10:37:16.836Z [INFO]: [APP] App listening on port 3333
2025-09-19T10:37:16.837Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-19T10:42:32.109Z [ERROR]: [MongoDB connection failed] MongooseError: The `uri` parameter to `openUri()` must be a string, got "undefined". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.
    at NativeConnection.createClient (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:237:11)
    at NativeConnection.openUri (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/connection.js:1071:34)
    at Mongoose.connect (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/mongoose.js:450:15)
    at connectDB (file:///Users/vijayeesam/Documents/code/assignment/src/config/db.js:8:24)
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:13:15
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:24:3
    at ModuleJob.run (node:internal/modules/esm/module_job:345:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:651:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
2025-09-19T10:42:32.116Z [INFO]: [APP] App listening on port 3333
2025-09-19T10:42:32.116Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-19T10:43:07.521Z [INFO]: [General] undefined
2025-09-19T10:43:07.828Z [ERROR]: [MongoDB connection failed] MongooseError: The `uri` parameter to `openUri()` must be a string, got "undefined". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.
    at NativeConnection.createClient (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:237:11)
    at NativeConnection.openUri (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/connection.js:1071:34)
    at Mongoose.connect (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/mongoose.js:450:15)
    at connectDB (file:///Users/vijayeesam/Documents/code/assignment/src/config/db.js:9:24)
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:13:15
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:24:3
    at ModuleJob.run (node:internal/modules/esm/module_job:345:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:651:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
2025-09-19T10:43:07.833Z [INFO]: [APP] App listening on port 3333
2025-09-19T10:43:07.833Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-19T10:44:28.974Z [INFO]: [General] undefined
2025-09-19T10:44:29.293Z [ERROR]: [MongoDB connection failed] MongooseError: The `uri` parameter to `openUri()` must be a string, got "undefined". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.
    at NativeConnection.createClient (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:237:11)
    at NativeConnection.openUri (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/connection.js:1071:34)
    at Mongoose.connect (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/mongoose.js:450:15)
    at connectDB (file:///Users/vijayeesam/Documents/code/assignment/src/config/db.js:9:24)
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:13:15
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:26:3
    at ModuleJob.run (node:internal/modules/esm/module_job:345:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:651:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
2025-09-19T10:44:29.294Z [INFO]: [ENV variables check.] {"MallocNanoZone":"0","USER":"vijayeesam","COMMAND_MODE":"unix2003","__CFBundleIdentifier":"com.todesktop.230313mzl4w4u92","PATH":"/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin","LOGNAME":"vijayeesam","SSH_AUTH_SOCK":"/private/tmp/com.apple.launchd.4OMYD3EJmu/Listeners","HOME":"/Users/vijayeesam","SHELL":"/bin/zsh","TMPDIR":"/var/folders/2s/l4wb4q3s73vff1000jjsj47c0000gp/T/","__CF_USER_TEXT_ENCODING":"0x1F6:0x0:0x0","XPC_SERVICE_NAME":"0","XPC_FLAGS":"0x0","ORIGINAL_XDG_CURRENT_DESKTOP":"undefined","CURSOR_TRACE_ID":"2cf450a007b44fb198375f2eb3881ff1","SHLVL":"1","PWD":"/Users/vijayeesam/Documents/code/assignment","OLDPWD":"/Users/vijayeesam/Documents/code/assignment","TERM_PROGRAM":"vscode","TERM_PROGRAM_VERSION":"1.6.27","LANG":"en_US.UTF-8","COLORTERM":"truecolor","GIT_ASKPASS":"/Applications/Cursor.app/Contents/Resources/app/extensions/git/dist/askpass.sh","VSCODE_GIT_ASKPASS_NODE":"/Applications/Cursor.app/Contents/Frameworks/Cursor Helper (Plugin).app/Contents/MacOS/Cursor Helper (Plugin)","VSCODE_GIT_ASKPASS_EXTRA_ARGS":"","VSCODE_GIT_ASKPASS_MAIN":"/Applications/Cursor.app/Contents/Resources/app/extensions/git/dist/askpass-main.js","VSCODE_GIT_IPC_HANDLE":"/var/folders/2s/l4wb4q3s73vff1000jjsj47c0000gp/T/vscode-git-e451b55ce1.sock","VSCODE_INJECTION":"1","ZDOTDIR":"/Users/vijayeesam","USER_ZDOTDIR":"/Users/vijayeesam","TERM":"xterm-256color","VSCODE_PROFILE_INITIALIZED":"1","VSCODE_LOGIN_INITIALIZED":"1","_":"/usr/local/bin/node","PORT":"3333","APP_BASE_URL":"http://localhost:3333","MONGO_URI":"mongodb://Riyazuddin:MONGOkaPa55@ac-trgrc9k-shard-00-00.k173qks.mongodb.net:27017,ac-trgrc9k-shard-00-01.k173qks.mongodb.net:27017,ac-trgrc9k-shard-00-02.k173qks.mongodb.net:27017?ssl=true&replicaSet=atlas-11jyzg-shard-0&authSource=admin&retryWrites=true&w=majority","JWT_PRIVATE_KEY":"nT^&*IJHG8&3FC","TOKEN_EXPIRY":"6h","MAILER_SERVICE":"gmail","MAILER_HOST":"smtp.gmail.com","MAILER_UID":"riyazuddin59208@gmail.com","MAILER_PASS":"pviq pihr ywds pedp"}
2025-09-19T10:44:29.298Z [INFO]: [APP] App listening on port 3333
2025-09-19T10:44:29.299Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-19T10:45:31.861Z [ERROR]: [MongoDB connection failed] MongooseError: The `uri` parameter to `openUri()` must be a string, got "undefined". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.
    at NativeConnection.createClient (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:237:11)
    at NativeConnection.openUri (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/connection.js:1071:34)
    at Mongoose.connect (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/mongoose.js:450:15)
    at connectDB (file:///Users/vijayeesam/Documents/code/assignment/src/config/db.js:8:24)
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:13:15
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:26:3
    at ModuleJob.run (node:internal/modules/esm/module_job:345:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:651:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
2025-09-19T10:45:31.864Z [INFO]: [ENV variables check.] {"MallocNanoZone":"0","USER":"vijayeesam","COMMAND_MODE":"unix2003","__CFBundleIdentifier":"com.todesktop.230313mzl4w4u92","PATH":"/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin","LOGNAME":"vijayeesam","SSH_AUTH_SOCK":"/private/tmp/com.apple.launchd.4OMYD3EJmu/Listeners","HOME":"/Users/vijayeesam","SHELL":"/bin/zsh","TMPDIR":"/var/folders/2s/l4wb4q3s73vff1000jjsj47c0000gp/T/","__CF_USER_TEXT_ENCODING":"0x1F6:0x0:0x0","XPC_SERVICE_NAME":"0","XPC_FLAGS":"0x0","ORIGINAL_XDG_CURRENT_DESKTOP":"undefined","CURSOR_TRACE_ID":"2cf450a007b44fb198375f2eb3881ff1","SHLVL":"1","PWD":"/Users/vijayeesam/Documents/code/assignment","OLDPWD":"/Users/vijayeesam/Documents/code/assignment","TERM_PROGRAM":"vscode","TERM_PROGRAM_VERSION":"1.6.27","LANG":"en_US.UTF-8","COLORTERM":"truecolor","GIT_ASKPASS":"/Applications/Cursor.app/Contents/Resources/app/extensions/git/dist/askpass.sh","VSCODE_GIT_ASKPASS_NODE":"/Applications/Cursor.app/Contents/Frameworks/Cursor Helper (Plugin).app/Contents/MacOS/Cursor Helper (Plugin)","VSCODE_GIT_ASKPASS_EXTRA_ARGS":"","VSCODE_GIT_ASKPASS_MAIN":"/Applications/Cursor.app/Contents/Resources/app/extensions/git/dist/askpass-main.js","VSCODE_GIT_IPC_HANDLE":"/var/folders/2s/l4wb4q3s73vff1000jjsj47c0000gp/T/vscode-git-e451b55ce1.sock","VSCODE_INJECTION":"1","ZDOTDIR":"/Users/vijayeesam","USER_ZDOTDIR":"/Users/vijayeesam","TERM":"xterm-256color","VSCODE_PROFILE_INITIALIZED":"1","VSCODE_LOGIN_INITIALIZED":"1","_":"/usr/local/bin/node","PORT":"3333","APP_BASE_URL":"http://localhost:3333","MONGO_URI":"mongodb://Riyazuddin:MONGOkaPa55@ac-trgrc9k-shard-00-00.k173qks.mongodb.net:27017,ac-trgrc9k-shard-00-01.k173qks.mongodb.net:27017,ac-trgrc9k-shard-00-02.k173qks.mongodb.net:27017?ssl=true&replicaSet=atlas-11jyzg-shard-0&authSource=admin&retryWrites=true&w=majority","JWT_PRIVATE_KEY":"nT^&*IJHG8&3FC","TOKEN_EXPIRY":"6h","MAILER_SERVICE":"gmail","MAILER_HOST":"smtp.gmail.com","MAILER_UID":"riyazuddin59208@gmail.com","MAILER_PASS":"pviq pihr ywds pedp"}
2025-09-19T10:45:31.868Z [INFO]: [APP] App listening on port 3333
2025-09-19T10:45:31.869Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-19T10:45:46.485Z [ERROR]: [MongoDB connection failed] MongooseError: The `uri` parameter to `openUri()` must be a string, got "undefined". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.
    at NativeConnection.createClient (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:237:11)
    at NativeConnection.openUri (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/connection.js:1071:34)
    at Mongoose.connect (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/mongoose.js:450:15)
    at connectDB (file:///Users/vijayeesam/Documents/code/assignment/src/config/db.js:8:24)
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:13:15
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:24:3
    at ModuleJob.run (node:internal/modules/esm/module_job:345:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:651:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
2025-09-19T10:45:46.492Z [INFO]: [APP] App listening on port 3333
2025-09-19T10:45:46.492Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-19T10:47:30.493Z [INFO]: [General] undefined
2025-09-19T10:47:30.807Z [ERROR]: [MongoDB connection failed] MongooseError: The `uri` parameter to `openUri()` must be a string, got "undefined". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.
    at NativeConnection.createClient (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:237:11)
    at NativeConnection.openUri (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/connection.js:1071:34)
    at Mongoose.connect (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/mongoose.js:450:15)
    at connectDB (file:///Users/vijayeesam/Documents/code/assignment/src/config/db.js:9:24)
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:13:15
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:24:3
    at ModuleJob.run (node:internal/modules/esm/module_job:345:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:651:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
2025-09-19T10:47:30.812Z [INFO]: [APP] App listening on port 3333
2025-09-19T10:47:30.813Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-19T10:48:07.533Z [INFO]: [General] mongodb://Riyazuddin:MONGOkaPa55@ac-trgrc9k-shard-00-00.k173qks.mongodb.net:27017,ac-trgrc9k-shard-00-01.k173qks.mongodb.net:27017,ac-trgrc9k-shard-00-02.k173qks.mongodb.net:27017?ssl=true&replicaSet=atlas-11jyzg-shard-0&authSource=admin&retryWrites=true&w=majority
2025-09-19T10:48:08.267Z [INFO]: [APP] App listening on port 3333
2025-09-19T10:48:08.269Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-19T10:50:48.117Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-19T10:50:50.427Z [INFO]: [General] undefined
2025-09-19T10:50:50.740Z [ERROR]: [MongoDB connection failed] MongooseError: The `uri` parameter to `openUri()` must be a string, got "undefined". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.
    at NativeConnection.createClient (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:237:11)
    at NativeConnection.openUri (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/connection.js:1071:34)
    at Mongoose.connect (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/mongoose.js:450:15)
    at connectDB (file:///Users/vijayeesam/Documents/code/assignment/src/config/db.js:11:24)
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:13:15
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:24:3
    at ModuleJob.run (node:internal/modules/esm/module_job:345:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:651:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
2025-09-19T10:50:50.745Z [INFO]: [APP] App listening on port 3333
2025-09-19T10:50:50.746Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-19T10:52:38.612Z [INFO]: [General] undefined
2025-09-19T10:52:38.919Z [ERROR]: [MongoDB connection failed] MongooseError: The `uri` parameter to `openUri()` must be a string, got "undefined". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.
    at NativeConnection.createClient (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:237:11)
    at NativeConnection.openUri (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/connection.js:1071:34)
    at Mongoose.connect (/Users/vijayeesam/Documents/code/assignment/node_modules/mongoose/lib/mongoose.js:450:15)
    at connectDB (file:///Users/vijayeesam/Documents/code/assignment/src/config/db.js:11:24)
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:13:15
    at file:///Users/vijayeesam/Documents/code/assignment/index.js:24:3
    at ModuleJob.run (node:internal/modules/esm/module_job:345:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:651:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
2025-09-19T10:52:38.923Z [INFO]: [APP] App listening on port 3333
2025-09-19T10:52:38.924Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-19T11:05:37.362Z [INFO]: [APP] App listening on port 3333
2025-09-19T11:05:37.365Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-19T11:06:17.199Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-19T11:06:21.247Z [INFO]: [APP] App listening on port 3333
2025-09-19T11:06:21.250Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-19T11:06:56.124Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-19T11:06:58.547Z [INFO]: [APP] App listening on port 3333
2025-09-19T11:06:58.550Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-19T11:07:49.641Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-19T11:07:52.216Z [INFO]: [APP] App listening on port 3333
2025-09-19T11:07:52.219Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-19T11:08:35.735Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-19T11:08:40.208Z [INFO]: [APP] App listening on port 3333
2025-09-19T11:08:40.211Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-19T11:50:59.009Z [INFO]: [Database] Database connected!
2025-09-19T11:50:59.011Z [INFO]: [Database] Database connected!
2025-09-19T11:51:09.576Z [INFO]: [Database] Database connected!
2025-09-19T12:09:37.007Z [INFO]: [Database] Database connected!
2025-09-19T12:09:46.394Z [INFO]: [Database] Database connected!
2025-09-19T12:22:33.005Z [INFO]: [Database] Database connected!
2025-09-19T12:22:33.005Z [INFO]: [Database] Database connected!
2025-09-19T12:22:43.186Z [INFO]: [Database] Database connected!
2025-09-19T15:54:45.008Z [INFO]: [Database] Database connected!
2025-09-19T15:54:45.023Z [INFO]: [Database] Database connected!
2025-09-19T15:54:55.393Z [INFO]: [Database] Database connected!
2025-09-20T09:46:27.590Z [INFO]: [APP] App listening on port 3333
2025-09-20T09:46:27.593Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-20T10:43:25.395Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-20T10:43:29.178Z [INFO]: [APP] App listening on port 3333
2025-09-20T10:43:29.181Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-20T10:46:25.962Z [ERROR]: [Joining tenant] Error: Join operation failed.
    at acceptInvitation (file:///Users/vijayeesam/Documents/code/assignment/src/controllers/tenants.controller.js:149:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-20T11:10:57.715Z [ERROR]: [Error while creating database] SyntaxError: "undefined" is not valid JSON
    at JSON.parse (<anonymous>)
    at createIsolatedDB (file:///Users/vijayeesam/Documents/code/assignment/src/controllers/isolated_databases.controller.js:14:40)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at file:///Users/vijayeesam/Documents/code/assignment/src/middlewares/authorize.middleware.js:121:13
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:157:13)
    at Route.dispatch (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/route.js:117:3)
    at handle (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:435:11)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
2025-09-20T11:12:50.873Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-20T11:12:53.149Z [INFO]: [APP] App listening on port 3333
2025-09-20T11:12:53.152Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-20T11:13:45.062Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-20T11:13:46.964Z [INFO]: [APP] App listening on port 3333
2025-09-20T11:13:46.967Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-20T11:56:34.631Z [INFO]: [Database] Database connected!
2025-09-20T12:13:02.007Z [INFO]: [Database] Database connected!
2025-09-20T12:13:02.009Z [INFO]: [Database] Database connected!
2025-09-20T12:13:12.532Z [INFO]: [Database] Database connected!
2025-09-20T12:20:58.139Z [INFO]: [Database] Database connected!
2025-09-20T12:22:47.828Z [ERROR]: [Membership Authorization] TypeError: Cannot read properties of undefined (reading 'tenant_id')
    at authorizeByMembership (file:///Users/vijayeesam/Documents/code/assignment/src/middlewares/authorize.middleware.js:63:58)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at trimPrefix (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:342:13)
    at /Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:297:9
    at processParams (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:582:12)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:291:5)
    at Function.handle (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:186:3)
    at router (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:60:12)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at trimPrefix (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:342:13)
2025-09-20T12:26:47.506Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
2025-09-20T12:26:51.622Z [INFO]: [APP] App listening on port 3333
2025-09-20T12:26:51.625Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-20T12:43:34.915Z [INFO]: [APP] App listening on port 3333
2025-09-20T12:43:34.918Z [INFO]: [GraphQL] 🚀 Server ready at http://localhost:4000/
2025-09-20T12:43:50.865Z [ERROR]: [Membership Authorization] TypeError: Cannot read properties of undefined (reading 'tenant_id')
    at authorizeByMembership (file:///Users/vijayeesam/Documents/code/assignment/src/middlewares/authorize.middleware.js:63:58)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at trimPrefix (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:342:13)
    at /Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:297:9
    at processParams (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:582:12)
    at next (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:291:5)
    at Function.handle (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:186:3)
    at router (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:60:12)
    at Layer.handleRequest (/Users/vijayeesam/Documents/code/assignment/node_modules/router/lib/layer.js:152:17)
    at trimPrefix (/Users/vijayeesam/Documents/code/assignment/node_modules/router/index.js:342:13)
2025-09-20T12:44:28.473Z [ERROR]: [Fetching tenant info] Error: Bad "options.expiresIn" option the payload already has an "exp" property.
    at module.exports [as sign] (/Users/vijayeesam/Documents/code/assignment/node_modules/jsonwebtoken/sign.js:163:20)
    at Object.create (file:///Users/vijayeesam/Documents/code/assignment/src/services/jwt.service.js:10:20)
    at TenantService.getInfo (file:///Users/vijayeesam/Documents/code/assignment/src/services/tenants.service.js:72:29)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async getTenantInfo (file:///Users/vijayeesam/Documents/code/assignment/src/controllers/tenants.controller.js:45:28)
2025-09-20T12:46:25.536Z [INFO]: [Database] MongoDB connection closed due to app termination (SIGINT)
